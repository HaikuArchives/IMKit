SubDir TOP common ;

SubDirSysHdrs [ FDirName $(TOP) ] ;
SubDirSysHdrs [ FDirName $(TOP) common ] ;

if $(OS) = HAIKU {
	SEARCH_SOURCE += [ FDirName $(TOP) common haiku_clv ] ;
} else {
	SEARCH_SOURCE += [ FDirName $(TOP) common clv ] ;
}
SEARCH_SOURCE += [ FDirName $(TOP) common support ] ;
C++FLAGS += -fpermissive ;

StaticLibrary libcommon.a :
	# support
	Base64.cpp
	BufferWriter.cpp
	BufferReader.cpp
	SettingsFile.cpp
	htmlparse.cpp

	# interface
	BubbleHelper.cpp
	IMKitUtilities.cpp
	IconMenuItem.cpp
	IconTextItem.cpp
	IconView.cpp
	MultiLineStringView.cpp
	NotifyingTextView.cpp
	Divider.cpp

	# CLV
	ColorTools.cpp
	ColumnListView.cpp
	ColumnTypes.cpp
;

if $(OS) = ZETA {
	LINKFLAGS on libcommon.a += -lzeta -ltracker ;
}

SubDir TOP common ;

SubDirSysHdrs [ FDirName $(TOP) ] ;
SubDirSysHdrs [ FDirName $(TOP) common ] ;

if $(OS) = HAIKU {
	SEARCH_SOURCE += [ FDirName $(TOP) common clv_haiku ] ;
} else {
	SEARCH_SOURCE += [ FDirName $(TOP) common clv_zeta ] ;
}
SEARCH_SOURCE += [ FDirName $(TOP) common interface ] ;
SEARCH_SOURCE += [ FDirName $(TOP) common support ] ;

StaticLibrary libcommon.a :
	# CLV
	ColorTools.cpp
	ColumnListView.cpp
	ColumnTypes.cpp

	# interface
	BubbleHelper.cpp
	IMKitUtilities.cpp
	IconMenuItem.cpp
	IconTextItem.cpp
	BitmapView.cpp
	MultiLineStringView.cpp
	NotifyingTextView.cpp
	Divider.cpp

	# support
	Base64.cpp
	BufferWriter.cpp
	BufferReader.cpp
	SettingsFile.cpp
	htmlparse.cpp
;

if $(OS) = ZETA {
	LINKFLAGS on libcommon.a += -lzeta -ltracker ;
}

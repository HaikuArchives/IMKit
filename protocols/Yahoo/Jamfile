#
# Copyright 2008, IM Kit Team.
# Distributed under the terms of the MIT License.
#
# Authors:
#		Pier Luigi Fiorini <pierluigi.fiorini@gmail.com>
#

SubDir TOP protocols Yahoo ;

SubDirHdrs [ FDirName $(TOP) ] ;
SubDirHdrs [ FDirName $(IMKIT_LIBYAHOO2_INCDIR) ] ;

SEARCH_SOURCE += [ FDirName $(TOP) common ] ;

AddOn yahoo :
	Yahoo.cpp
	YahooCallbacks.cpp
	YahooConnection.cpp
	yahoo_util.c
	: be $(TARGET_LIBSTDC++) libcommon.a yahoo2
	: Yahoo.rdef ProtocolTemplate.rdef
;

Depends yahoo : libcommon.a ;

if $(IMKIT_IS_HAIKU)  = 1 {
	LINKFLAGS on yahoo += -lnetwork ;
}

if $(IMKIT_IS_BEOS) = 1 {
	LINKFLAGS on yahoo += -lsocket ;
}

if $(IMKIT_IS_ZETA) = 1 {
	LINKFLAGS on yahoo += -lsocket -lbind ;
	SubDirHdrs /boot/develop/headers/be/bone ;
}

LINKFLAGS on yahoo += -L$(IMKIT_LIBYAHOO2_LIBDIR) ;

InstallLib $(IMKIT_COMMON_ADDONS_DIRECTORY)/im_kit/protocols : yahoo ;

if $(IMKIT_IS_ZETA) = 1 {
	SVGIcon yahoo : [ FDirName $(TOP) icons imkit protocols Yahoo.svg ] ;
}

Package imkit :
	yahoo :
	[ FSplitPath $(IMKIT_COMMON_ADDONS_DIRECTORY)/imkit/protocols ]
;

SubDir TOP utils ProtocolLoader ;

SubDirSysHdrs [ FDirName $(TOP) ] ;
SubDirHdrs [ FDirName $(TOP) server ] ;

Application ProtocolLoader :
	main.cpp
	ProtocolHandler.cpp
	ProtocolLoaderApplication.cpp
	: be $(TARGET_LIBSTDC++) libim.so libcommon.a 
	: ProtocolLoader.rdef
;

Depends ProtocolLoader : libcommon.a ;
Depends ProtocolLoader : libim.so ;

if $(OS) = ZETA {
	LINKFLAGS on ProtocolLoader += -lzeta -ltracker ;
}

InstallBin $(APPS_DIRECTORY)/im_kit : ProtocolLoader ;

Package imkit :
	ProtocolLoader :
	[ FSplitPath $(APPS_DIRECTORY)/im_kit ]
;
